{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../user.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nfunction UserListComponent_table_0_tr_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\")(10, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function UserListComponent_table_0_tr_14_Template_button_click_10_listener() {\n      const user_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.navigateToUserForm(user_r2.id));\n    });\n    i0.ɵɵtext(11, \"Edit\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const user_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r2.userName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r2.email);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r2.phoneNumber || \"\\u2014\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r2.roles == null ? null : user_r2.roles.join(\", \"));\n  }\n}\nfunction UserListComponent_table_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\")(1, \"thead\")(2, \"tr\")(3, \"th\");\n    i0.ɵɵtext(4, \"Username\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\");\n    i0.ɵɵtext(6, \"Email\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"Mobile\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\");\n    i0.ɵɵtext(10, \"Roles\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"th\");\n    i0.ɵɵtext(12, \"Actions\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(13, \"tbody\");\n    i0.ɵɵtemplate(14, UserListComponent_table_0_tr_14_Template, 12, 4, \"tr\", 1);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(14);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.users);\n  }\n}\nexport class UserListComponent {\n  constructor(userService, router) {\n    this.userService = userService;\n    this.router = router;\n    this.users = [];\n    this.loading = true;\n    this.error = null;\n  }\n  ngOnInit() {\n    this.fetchUsers();\n  }\n  fetchUsers() {\n    this.loading = true;\n    this.userService.getAllUsers().subscribe({\n      next: data => {\n        this.users = data;\n        this.loading = false;\n      },\n      error: err => {\n        this.error = 'Failed to fetch users.';\n        this.loading = false;\n      }\n    });\n  }\n  navigateToUserForm(userId) {\n    if (userId) {\n      this.router.navigate(['/users/form', userId]);\n    } else {\n      this.router.navigate(['/users/form']);\n    }\n  }\n  static {\n    this.ɵfac = function UserListComponent_Factory(t) {\n      return new (t || UserListComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: UserListComponent,\n      selectors: [[\"app-user-list\"]],\n      decls: 1,\n      vars: 1,\n      consts: [[4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [3, \"click\"]],\n      template: function UserListComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵtemplate(0, UserListComponent_table_0_Template, 15, 1, \"table\", 0);\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading && ctx.users.length > 0);\n        }\n      },\n      dependencies: [i3.NgForOf, i3.NgIf],\n      styles: [\".user-list-container[_ngcontent-%COMP%] {\\n  background-color: white;\\n  padding: 2rem;\\n  border-radius: 10px;\\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\\n}\\n.user-list-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n  color: #002b5c;\\n  margin-bottom: 1.5rem;\\n}\\n.user-list-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%] {\\n  width: 100%;\\n  border-collapse: collapse;\\n  font-size: 0.95rem;\\n}\\n.user-list-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .user-list-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\\n  padding: 0.75rem;\\n  border: 1px solid #ddd;\\n  text-align: left;\\n}\\n.user-list-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\\n  background-color: #002b5c;\\n  color: white;\\n}\\n.user-list-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even) {\\n  background-color: #f9f9f9;\\n}\\n.user-list-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%] {\\n  color: red;\\n  margin-bottom: 1rem;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdXNlcnMvdXNlci1saXN0L3VzZXItbGlzdC5jb21wb25lbnQuc2NzcyIsIndlYnBhY2s6Ly8uLy4uLy4uLy4uL215JTIwcHJvamVjdHMvUkJBQy9yYmFjLWNsaWVudC9zcmMvYXBwL3VzZXJzL3VzZXItbGlzdC91c2VyLWxpc3QuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSx1QkFBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtFQUNBLHVDQUFBO0FDQ0o7QURDSTtFQUNFLGNBQUE7RUFDQSxxQkFBQTtBQ0NOO0FERUk7RUFDRSxXQUFBO0VBQ0EseUJBQUE7RUFDQSxrQkFBQTtBQ0FOO0FERU07RUFDRSxnQkFBQTtFQUNBLHNCQUFBO0VBQ0EsZ0JBQUE7QUNBUjtBREdNO0VBQ0UseUJBQUE7RUFDQSxZQUFBO0FDRFI7QURJTTtFQUNFLHlCQUFBO0FDRlI7QURNSTtFQUNFLFVBQUE7RUFDQSxtQkFBQTtBQ0pOIiwic291cmNlc0NvbnRlbnQiOlsiLnVzZXItbGlzdC1jb250YWluZXIge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XHJcbiAgICBwYWRkaW5nOiAycmVtO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTBweDtcclxuICAgIGJveC1zaGFkb3c6IDAgMCAxMHB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcclxuICBcclxuICAgIGgyIHtcclxuICAgICAgY29sb3I6ICMwMDJiNWM7XHJcbiAgICAgIG1hcmdpbi1ib3R0b206IDEuNXJlbTtcclxuICAgIH1cclxuICBcclxuICAgIHRhYmxlIHtcclxuICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XHJcbiAgICAgIGZvbnQtc2l6ZTogMC45NXJlbTtcclxuICBcclxuICAgICAgdGgsIHRkIHtcclxuICAgICAgICBwYWRkaW5nOiAwLjc1cmVtO1xyXG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7XHJcbiAgICAgICAgdGV4dC1hbGlnbjogbGVmdDtcclxuICAgICAgfVxyXG4gIFxyXG4gICAgICB0aCB7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzAwMmI1YztcclxuICAgICAgICBjb2xvcjogd2hpdGU7XHJcbiAgICAgIH1cclxuICBcclxuICAgICAgdHI6bnRoLWNoaWxkKGV2ZW4pIHtcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjlmOWY5O1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgXHJcbiAgICAuZXJyb3Ige1xyXG4gICAgICBjb2xvcjogcmVkO1xyXG4gICAgICBtYXJnaW4tYm90dG9tOiAxcmVtO1xyXG4gICAgfVxyXG4gIH1cclxuICAiLCIudXNlci1saXN0LWNvbnRhaW5lciB7XG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICBwYWRkaW5nOiAycmVtO1xuICBib3JkZXItcmFkaXVzOiAxMHB4O1xuICBib3gtc2hhZG93OiAwIDAgMTBweCByZ2JhKDAsIDAsIDAsIDAuMSk7XG59XG4udXNlci1saXN0LWNvbnRhaW5lciBoMiB7XG4gIGNvbG9yOiAjMDAyYjVjO1xuICBtYXJnaW4tYm90dG9tOiAxLjVyZW07XG59XG4udXNlci1saXN0LWNvbnRhaW5lciB0YWJsZSB7XG4gIHdpZHRoOiAxMDAlO1xuICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xuICBmb250LXNpemU6IDAuOTVyZW07XG59XG4udXNlci1saXN0LWNvbnRhaW5lciB0YWJsZSB0aCwgLnVzZXItbGlzdC1jb250YWluZXIgdGFibGUgdGQge1xuICBwYWRkaW5nOiAwLjc1cmVtO1xuICBib3JkZXI6IDFweCBzb2xpZCAjZGRkO1xuICB0ZXh0LWFsaWduOiBsZWZ0O1xufVxuLnVzZXItbGlzdC1jb250YWluZXIgdGFibGUgdGgge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDAyYjVjO1xuICBjb2xvcjogd2hpdGU7XG59XG4udXNlci1saXN0LWNvbnRhaW5lciB0YWJsZSB0cjpudGgtY2hpbGQoZXZlbikge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjlmOWY5O1xufVxuLnVzZXItbGlzdC1jb250YWluZXIgLmVycm9yIHtcbiAgY29sb3I6IHJlZDtcbiAgbWFyZ2luLWJvdHRvbTogMXJlbTtcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","UserListComponent_table_0_tr_14_Template_button_click_10_listener","user_r2","ɵɵrestoreView","_r1","$implicit","ctx_r2","ɵɵnextContext","ɵɵresetView","navigateToUserForm","id","ɵɵadvance","ɵɵtextInterpolate","userName","email","phoneNumber","roles","join","ɵɵtemplate","UserListComponent_table_0_tr_14_Template","ɵɵproperty","users","UserListComponent","constructor","userService","router","loading","error","ngOnInit","fetchUsers","getAllUsers","subscribe","next","data","err","userId","navigate","ɵɵdirectiveInject","i1","UserService","i2","Router","selectors","decls","vars","consts","template","UserListComponent_Template","rf","ctx","UserListComponent_table_0_Template","length"],"sources":["D:\\my projects\\RBAC\\rbac-client\\src\\app\\users\\user-list\\user-list.component.ts","D:\\my projects\\RBAC\\rbac-client\\src\\app\\users\\user-list\\user-list.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { UserService } from '../user.service';\nimport { User } from 'src/app/shared/models/user.model';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-user-list',\n  templateUrl: './user-list.component.html',\n  styleUrls: ['./user-list.component.scss']\n})\nexport class UserListComponent implements OnInit {\n  users: User[] = [];\n  loading = true;\n  error: string | null = null;\n\n  constructor(private userService: UserService,\n    private router: Router\n  ) {}\n\n  ngOnInit(): void {\n    this.fetchUsers();\n  }\n\n  fetchUsers() {\n    this.loading = true;\n    this.userService.getAllUsers().subscribe({\n      next: (data) => {\n        this.users = data;\n        this.loading = false;\n      },\n      error: (err) => {\n        this.error = 'Failed to fetch users.';\n        this.loading = false;\n      }\n    });\n  }\n\n  navigateToUserForm(userId?: string) {\n    if (userId) {\n      this.router.navigate(['/users/form', userId]);\n    } else {\n      this.router.navigate(['/users/form']);\n    }\n  }\n}\n","<table *ngIf=\"!loading && users.length > 0\">\n    <thead>\n      <tr>\n        <th>Username</th>\n        <th>Email</th>\n        <th>Mobile</th> \n        <th>Roles</th>\n        <th>Actions</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr *ngFor=\"let user of users\">\n        <td>{{ user.userName }}</td>\n        <td>{{ user.email }}</td>\n        <td>{{ user.phoneNumber || '—' }}</td> \n        <td>{{ user.roles?.join(', ') }}</td>\n        <td>\n          <button (click)=\"navigateToUserForm(user.id)\">Edit</button>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}